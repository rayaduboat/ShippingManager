@*@model FinanceManager.Model.Models.TripCreateModel*@
@model FinanceManager.Model.Models.CustomerOrderModel
@using Microsoft.IdentityModel

@{
    ViewData["Title"] = "Create";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@*style="border:solid;"*@
<p>
    <a class="btn btn-primary" asp-action="MainTripsPanel" asp-controller="TripDetails">Main Trip Panel</a>
</p>
<h3 class="text-center" style="font-weight:700;color:steelblue">Add your Orders here</h3>
<hr />
<div class="container">
    <div class="panel-group">
        <div class="panel panel-primary">
            <div class="panel-heading" style="text-align:center;font-weight:600">Select your Reicipient and Items to Ship here</div>
            <div class="panel-body FormDesign">
                <form method="post">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    <div class="container" style="margin-top: 10px;margin-bottom: 10px;">
                        <div class="row">
                            <input type="hidden" id="tripID" asp-for="TripId" />
                            <input type="hidden" id="mySenderId" />
                            <div class="col-md-6">
                                <section id="SearchSection">
                                    <div class="form-group row">
                                        <label asp-for="BatchId" class="col-form-label col-md-2"></label>
                                        <div class="col-md-6">
                                            <input id="BatchId" asp-for="BatchId" name="BatchId" disabled="disabled" class="form-control textBoxFormat" style="font-size:12px;font-weight:600;" />
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label asp-for="Telephone" class="col-form-label col-md-2"></label>
                                        <div class="col-md-6">
                                            <input id="txtTel" type="text" class="form-control textBoxFormat" name="txtTel" style="font-size:12px;font-weight:600;" />
                                        </div>
                                        <span asp-validation-for="Telephone" class="text-danger"></span>
                                    </div>
                                    <div class="form-group row">
                                        <label asp-for="Postcode" class="col-form-label col-md-2"></label>
                                        <div class="col-md-6">
                                            <input id="txtPostcode" type="text" name="txtPostcode" class="form-control textBoxFormat" style="font-size:12px;font-weight:600;" />
                                        </div>
                                        <span asp-validation-for="Postcode" class="text-danger"></span>
                                    </div>
                                    @*<p id="catchError" style="font-size:10px;"></p>*@
                                    <p id="senderId" style="display:none;"></p>
                                    <input id="orderTel" type="hidden" name="orderTel" value="" />
                                    <input id="orderPostcode" type="hidden" name="orderPostcode" value="" />
                                    @if (User.Identity.Name != "info@pacoshipping.com")
                                    {
                                        <section id="sectionFindMe">
                                            @*style="display:none;"*@
                                            <div id="findMeDiv" class="form-group row">
                                                <div class="col-md-2"><p id="catchError" style="font-size:10px;"></p></div>
                                                <!--<div class="col-md-3">-->
                                                    @*<button class="btn-primary btnFormat" type="button" id="btnFindMe">Find Me</button>*@
                                                    <!--<a class="btn btn-primary btnFormat_a" id="btnFindMe">Find Me</a>
                                                </div>-->
                                                <span id="findCustomerDetails" onclick="{new $pac.TripManagement.ClientLink().GetSender('txtTel','txtPostcode') }"></span>
                                                <span id="getClientLink" onclick="{ new $pac.ShippingItems.SearchCustomerDetails().GetParameters(txtTel.value, txtPostcode.value) }"></span>
                                                <span id="getLoadItem" onclick="{ new $pac.ShippingItems.SearchCustomerDetails().GetParameters() }"></span>
                                                
                                                <div id="addMeDiv" class="col-md-6">
                                                    <a class="btn btn-danger btnFormat_a" asp-action="Index" asp-controller="Home" id="btnCancelMe">Cancel and Exit</a>
                                                    @*<button class="btn-danger btnFormat" type="button" id="btnAddMe">Add Me</button>*@
                                                    <span id="callSendersModal" data-toggle="modal" data-target="#myModal"></span>
                                                </div>
                                            </div>
                                        </section>
                                    }
                                    else
                                    {
                                        <section id="sectionFindMe">
                                            @*style="display:none;"*@
                                            <div id="findMeDiv" class="form-group row">
                                                <div class="col-md-2"></div>
                                                <div class="col-md-3">
                                                    <button class="btn-primary btnFormat" type="button" id="btnFindMe">Find Me</button>

                                                </div>
                                                <span id="findCustomerDetails" onclick="{ new $pac.TripManagement.ClientLink().GetSender('txtTel','txtPostcode') }"></span>
                                                <span id="getClientLink" onclick="{ new $pac.ShippingItems.SearchCustomerDetails().GetParameters(txtTel.value, txtPostcode.value) }"></span>
                                                <span id="getLoadItem" onclick="{ new $pac.ShippingItems.SearchCustomerDetails().GetParameters() }"></span>
                                                <div id="addMeDiv" class="col-md-3">
                                                    <button class="btn-primary btnFormat" type="button" id="btnAddMe">Add Me</button>
                                                    <span id="callSendersModal" data-toggle="modal" data-target="#myModal"></span>
                                                </div>
                                            </div>
                                        </section>
                                    }
                                    <a id="customerLinkA" class="llinkToClient" style="display:none" onclick="{ new $pac.TripManagement.ClientLink().LinkCopy('customerLinkA') }"></a>
                                    <textarea id="myUrlDTA" style="display:none"></textarea>
                                </section>

                                <section id="SenderRecipientSection" style="display:none">
                                    <input id="sender_Id" type="hidden" name="name" value="" />
                                    <div class="form-group row">
                                        @*<label asp-for="SenderFullName" class="col-form-label col-md-2"></label>*@
                                        <label asp-for="SenderId" class="col-form-label col-md-2">Sender</label>
                                        <div class="col-md-6">
                                            <input id="tSenderId" type="hidden" />
                                            <input id="txtSenderFullname" asp-for="SenderId" type="text" value="" class="form-control textBoxFormat" style="font-size:12px;font-weight:600;" />
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label asp-for="RecipientId" class="col-form-label col-md-2"></label>
                                        <div class="col-md-6">
                                            <input id="tRecipientId" type="hidden" />
                                            <select id="ListBoxRecipientID" class="form-control textBoxFormat" style="font-size:12px;font-weight:600;"></select>
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <div class="col-md-2"></div>
                                        <div class="col-md-3">
                                            <button class="btn-primary btnFormat" type="button" id="btnCreateOrder" style="font-size:12px;">Place Orders</button>
                                            <span id="callItemsModal" data-toggle="modal" data-target="#myRecModal"></span>
                                        </div>
                                        <div class="col-md-3">
                                            <button class="btn-primary btnFormat" type="button" id="btnMyNewRecipient" style="font-size:12px;">Add Recipient</button>
                                            <span id="callRecipientsModal" data-toggle="modal" data-target="#myRecModal"></span>
                                        </div>
                                        @*<div class="col-md-2">
                                            <button class="btn-primary btnFormat" type="button" id="btnSenderUpdate" style="font-size:12px;">
                                                MyDetail
                                            </button>
                                            <span id="callUpDateMyDetailsModal" data-toggle="modal" data-target="#myUpdateMyDetailsModal"></span>
                                        </div>*@
                                    </div>
                                </section>
                            </div>

                            <div class="col-md-6">
                                <section id="ItemSection" style="display:none;">
                                    <div class="form-group row">
                                        <label class=" col-md-2">Ref Number</label>@*class="form-label-control"*@
                                        @*<label asp-for="RefNum:" class=" col-md-2"></label>*@
                                        <div class="col-md-6">
                                            <input id="txtRefNum" style="font-weight:600;" disabled="disabled" asp-for="ActualRef" name="ActualRef" class="form-control" />
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <label asp-for="Name" class=" col-md-2"></label>
                                        <div class="col-md-6">
                                            <input id="Name" type="hidden" name="Name" asp-for="Name" value="" />
                                            <select id="txtItemName" style="font-weight:600;" asp-for="Name" class="form-control"></select>
                                        </div>
                                        <span asp-validation-for="Name" class="text-danger"></span>
                                    </div>
                                    <div class="form-group row">
                                        <label asp-for="Quantity" class="col-form-label col-md-2"></label>
                                        <div class="col-md-6">
                                            <input id="Quantity" type="hidden" name="Quantity" asp-for="Quantity" value="" />
                                            <input id="txtItemQuantity" style="font-weight:600" asp-for="Quantity" class="form-control textBoxFormat" />
                                        </div>
                                        <span asp-validation-for="Quantity" class="text-danger"></span>
                                    </div>
                                    <div class="form-group row">
                                        <div class="col-md-2"></div>
                                        <div class="col-md-3">
                                            <button class="btn-primary btnFormat" type="button" id="btnItemAdd" style="font-size:12px">Add to basket</button>
                                        </div>
                                        <div class="col-md-3">
                                            <button class="btn-primary btnFormat" type="button" id="btnItemClearTable" style="font-size:12px">Clear orders</button>
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <div class="col-md-2"></div>
                                        <div class="col-md-6">
                                            <table id="itemTable" class="table" border="1">
                                                <thead id="itemTHead" style="background-color:midnightblue;font-size:12px;color:white;font-weight:600;">
                                                    <tr>
                                                        <th>Name</th>
                                                        <th>Quantity</th>
                                                        <th>Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="itemTBody">
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <div class="col-md-2"></div>
                                        <div class="col-md-6">
                                            <button id="btnItemCheckout" class="form-control btn-primary btnFormat" type="button"
                                                    onclick="{ new $pac.TripManagement.ClientOrder().Checkout('BatchId','sender_Id','ListBoxRecipientID option:selected','txtRefNum','itemTable>tbody>tr','orderTel','orderPostcode') }">
                                                Checkout
                                            </button>
                                            @*onclick="{ new $pac.TripManagement.ClientLink().SendToClient('custAddress1', 'custTown', 'custPostcode', 'custTel') }"*@
                                        </div>
                                    </div>
                                    @*</div>  id="btnItemCheckout"  *@

                                </section>

                            </div>

                        </div>
                    </div>
                    <p id="errMsg" style="font-size:11px;font-weight:600;"></p>

                </form>

            </div>
        </div>
    </div>
</div>
<section>
    @*Add sender modal form*@
    <!-- The Modal -->
    <div class="modal fade" id="myModal">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title" style="background-color:black;color:white;line-height:1.7;text-align:center;font-size:25px;font-weight:600;">Fill in Sender Details</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">

                    <div class="modal-body">
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">Shipper</label>
                            </div>
                            <div class="col-sm-9">
                                <input id="ModalSenderId" type="hidden" name="name" value="" />
                                <input id="textSenderFullName" style="color:red;" class="form-control textBoxFormat reduceTextMB" type="text" name="textbox" disabled="disabled" value="4000" />
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">Title</label>
                            </div>
                            <div class="col-sm-9">
                                <select id="selectSenderTitle" class="form-control textBoxFormat">
                                    <option value="Select title">Select title</option>
                                    <option value="Mr">Mr</option>
                                    <option value="Mrs">Mrs</option>
                                    <option value="Master">Master</option>
                                    <option value="Miss">Miss</option>
                                    <option value="Elder">Elder</option>
                                    <option value="Deacon">Deacon</option>
                                    <option value="Deaconess">Deaconess</option>
                                    <option value="Pastor">Pastor</option>
                                    <option value="Brother">Brother</option>
                                    <option value="Sister">Sister</option>
                                    <option value="Reverend">Reverend</option>
                                </select>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">Gender</label>
                            </div>
                            <div class="col-sm-9">
                                <select id="selectSenderGender" class="form-control textBoxFormat">
                                    <option value="Select gender">Select gender</option>
                                    <option value="Male">Male</option>
                                    <option value="Female">Female</option>

                                </select>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">FirstName</label>
                            </div>
                            <div class="col-sm-9">
                                <input id="textSenderFirstName" class="form-control textBoxFormat" type="text" name="textbox" value="" placeholder="enter .." />
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">LastName</label>
                            </div>
                            <div class="col-sm-9">
                                <input id="textSenderLastName" class="form-control textBoxFormat" type="text" name="textbox" value="" placeholder="enter .." />
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">Address line one</label>
                            </div>
                            <div class="col-sm-9">
                                <input id="textSenderAdd1" class="form-control textBoxFormat" type="text" name="textbox" value="" placeholder="enter .." />
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">Address line two</label>
                            </div>
                            <div class="col-sm-9">
                                <input id="textSenderAdd2" class="form-control textBoxFormat" type="text" name="textbox" value="" placeholder="enter .." />
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">Postcode</label>
                            </div>
                            <div class="col-sm-9">
                                <input id="textSenderPostcode" class="form-control textBoxFormat" type="text" name="textbox" value="" placeholder="enter .." />
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">Town</label>
                            </div>
                            <div class="col-sm-9">
                                <input id="textSenderTown" class="form-control textBoxFormat" type="text" name="Town" value="" placeholder="town.." />
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">Country</label>
                            </div>
                            <div class="col-sm-9">
                                <select id="selectSenderCountry" class="form-control textBoxFormat">
                                    <option value="Select country">Select country</option>
                                    <option value="Afghanistan">Afghanistan                           </option>
                                    <option value="Albania">Albania                               </option>
                                    <option value="Algeria">Algeria                               </option>
                                    <option value="American Samoa">American Samoa                        </option>
                                    <option value="Andorra">Andorra                               </option>
                                    <option value="Angola              ">Angola                                </option>
                                    <option value="Anguilla            ">Anguilla                              </option>
                                    <option value="Antigua and Barbuda ">Antigua and Barbuda                   </option>
                                    <option value="Argentina           ">Argentina                             </option>
                                    <option value="Armenia             ">Armenia                               </option>
                                    <option value="Aruba               ">Aruba                                 </option>
                                    <option value="Australia           ">Australia                             </option>
                                    <option value="Austria             ">Austria                               </option>
                                    <option value="Azerbaijan          ">Azerbaijan                            </option>
                                    <option value="Bahamas             ">Bahamas                               </option>
                                    <option value="Bahrain             ">Bahrain                               </option>
                                    <option value="Bangladesh          ">Bangladesh                            </option>
                                    <option value="Barbados            ">Barbados                              </option>
                                    <option value="Belarus             ">Belarus                               </option>
                                    <option value="Belgium             ">Belgium                               </option>
                                    <option value="Belize              ">Belize                                </option>
                                    <option value="Benin               ">Benin                                 </option>
                                    <option value="Bermuda             ">Bermuda                               </option>
                                    <option value="Bhutan              ">Bhutan                                </option>
                                    <option value="Bolivia             ">Bolivia                               </option>
                                    <option value="Bosnia and Herzegovina">Bosnia and Herzegovina                </option>
                                    <option value="Botswana">Botswana                              </option>
                                    <option value="Brazil">Brazil                                </option>
                                    <option value="British Virgin Islands">British Virgin Islands                </option>
                                    <option value="Brunei">Brunei                                </option>
                                    <option value="Bulgaria      ">Bulgaria                              </option>
                                    <option value="Burkina Faso  ">Burkina Faso                          </option>
                                    <option value="Burundi       ">Burundi                               </option>
                                    <option value="Côte d'Ivoire ">Côte d'Ivoire                         </option>
                                    <option value="Cabo Verde    ">Cabo Verde                            </option>
                                    <option value="Cambodia      ">Cambodia                              </option>
                                    <option value="Cameroon      ">Cameroon                              </option>
                                    <option value="Canada        ">Canada                                </option>
                                    <option value="Caribbean Netherlands">Caribbean Netherlands                 </option>
                                    <option value="Cayman Islands          ">Cayman Islands                        </option>
                                    <option value="Central African Republic">Central African Republic              </option>
                                    <option value="Chad                    ">Chad                                  </option>
                                    <option value="Channel Islands         ">Channel Islands                       </option>
                                    <option value="Chile                   ">Chile                                 </option>
                                    <option value="China                   ">China                                 </option>
                                    <option value="Colombia                ">Colombia                              </option>
                                    <option value="Comoros                 ">Comoros                               </option>
                                    <option value="Congo (Congo-Brazzaville)">Congo (Congo-Brazzaville)             </option>
                                    <option value="Cook Islands">Cook Islands                          </option>
                                    <option value="Costa Rica  ">Costa Rica                            </option>
                                    <option value="Croatia     ">Croatia                               </option>
                                    <option value="Cuba        ">Cuba                                  </option>
                                    <option value="Curaçao     ">Curaçao                               </option>
                                    <option value="Cyprus      ">Cyprus                                </option>
                                    <option value="Czech Republic">Czech Republic                        </option>
                                    <option value="Democratic Republic of the Congo">Democratic Republic of the Congo      </option>
                                    <option value="Denmark">Denmark                               </option>
                                    <option value="Djibouti">Djibouti                              </option>
                                    <option value="Dominica">Dominica                              </option>
                                    <option value="Dominican Republic">Dominican Republic                    </option>
                                    <option value="Ecuador">Ecuador                               </option>
                                    <option value="Egypt">Egypt                                 </option>
                                    <option value="El Salvador">El Salvador                           </option>
                                    <option value="Equatorial Guinea">Equatorial Guinea                     </option>
                                    <option value="Eritrea">Eritrea                               </option>
                                    <option value="Estonia">Estonia                               </option>
                                    <option value="Ethiopia">Ethiopia                              </option>
                                    <option value="Faeroe Islands">Faeroe Islands                        </option>
                                    <option value="Falkland Islands (Islas Malvinas)">Falkland Islands (Islas Malvinas)     </option>
                                    <option value="Fiji">Fiji                                  </option>
                                    <option value="Finland">Finland                               </option>
                                    <option value="France">France                                </option>
                                    <option value="French Guiana">French Guiana                         </option>
                                    <option value="French Polynesia">French Polynesia                      </option>
                                    <option value="Gabon">Gabon                                 </option>
                                    <option value="Gambia    ">Gambia                                </option>
                                    <option value="Georgia   ">Georgia                               </option>
                                    <option value="Germany   ">Germany                               </option>
                                    <option value="Ghana     ">Ghana                                 </option>
                                    <option value="Gibraltar ">Gibraltar                             </option>
                                    <option value="Greece    ">Greece                                </option>
                                    <option value="Greenland ">Greenland                             </option>
                                    <option value="Grenada   ">Grenada                               </option>
                                    <option value="Guadeloupe">Guadeloupe                            </option>
                                    <option value="Guam      ">Guam                                  </option>
                                    <option value="Guatemala ">Guatemala                             </option>
                                    <option value="Guinea    ">Guinea                                </option>
                                    <option value="Guinea-Bissau">Guinea-Bissau                         </option>
                                    <option value="Guyana">Guyana                                </option>
                                    <option value="Haiti">Haiti                                 </option>
                                    <option value="Holy See">Holy See                              </option>
                                    <option value="Honduras">Honduras                              </option>
                                    <option value="Hong Kong (S.A.R. of China)">Hong Kong (S.A.R. of China)           </option>
                                    <option value="Hungary">Hungary                               </option>
                                    <option value="Iceland">Iceland                               </option>
                                    <option value="India">India                                 </option>
                                    <option value="Indonesia">Indonesia                             </option>
                                    <option value="Iran">Iran   </option>
                                    <option value="Iraq       ">Iraq                                  </option>
                                    <option value="Ireland    ">Ireland                               </option>
                                    <option value="Isle of Man">Isle of Man                           </option>
                                    <option value="Israel     ">Israel                                </option>
                                    <option value="Italy      ">Italy                                 </option>
                                    <option value="Jamaica    ">Jamaica                               </option>
                                    <option value="Japan      ">Japan                                 </option>
                                    <option value="Jordan     ">Jordan                                </option>
                                    <option value="Kazakhstan ">Kazakhstan                            </option>
                                    <option value="Kenya      ">Kenya                                 </option>
                                    <option value="Kiribati   ">Kiribati                              </option>
                                    <option value="Kuwait     ">Kuwait                                </option>
                                    <option value="Kyrgyzstan ">Kyrgyzstan                            </option>
                                    <option value="Laos       ">Laos                                  </option>
                                    <option value="Latvia     ">Latvia                                </option>
                                    <option value="Lebanon    ">Lebanon                               </option>
                                    <option value="Lesotho    ">Lesotho                               </option>
                                    <option value="Liberia    ">Liberia                               </option>
                                    <option value="Libya      ">Libya                                 </option>
                                    <option value="Liechtenstein                             ">Liechtenstein                         </option>
                                    <option value="Lithuania                                 ">Lithuania                             </option>
                                    <option value="Luxembourg                                ">Luxembourg                            </option>
                                    <option value="Macao (S.A.R. of China)                   ">Macao (S.A.R. of China)               </option>
                                    <option value="Macedonia (FYROM)  ">Macedonia (FYROM)                     </option>
                                    <option value="Madagascar         ">Madagascar                            </option>
                                    <option value="Malawi             ">Malawi                                </option>
                                    <option value="Malaysia           ">Malaysia                              </option>
                                    <option value="Maldives           ">Maldives                              </option>
                                    <option value="Mali               ">Mali                                  </option>
                                    <option value="Malta              ">Malta                                 </option>
                                    <option value="Marshall Islands   ">Marshall Islands                      </option>
                                    <option value="Martinique         ">Martinique                            </option>
                                    <option value="Mauritania         ">Mauritania                            </option>
                                    <option value="Mauritius          ">Mauritius                             </option>
                                    <option value="Mayotte            ">Mayotte                               </option>
                                    <option value="Mexico             ">Mexico                                </option>
                                    <option value="Micronesia         ">Micronesia                            </option>
                                    <option value="Moldova            ">Moldova                               </option>
                                    <option value="Monaco             ">Monaco                                </option>
                                    <option value="Mongolia           ">Mongolia                              </option>
                                    <option value="Montenegro         ">Montenegro                            </option>
                                    <option value="Montserrat         ">Montserrat                            </option>
                                    <option value="Morocco            ">Morocco                               </option>
                                    <option value="Mozambique         ">Mozambique                            </option>
                                    <option value="Myanmar (formerly Burma)">Myanmar (formerly Burma)              </option>
                                    <option value="Namibia                 ">Namibia                               </option>
                                    <option value="Nauru                   ">Nauru                                 </option>
                                    <option value="Nepal                   ">Nepal                                 </option>
                                    <option value="Netherlands             ">Netherlands                           </option>
                                    <option value="New Caledonia           ">New Caledonia                         </option>
                                    <option value="New Zealand             ">New Zealand                           </option>
                                    <option value="Nicaragua               ">Nicaragua                             </option>
                                    <option value="Niger                   ">Niger                                 </option>
                                    <option value="Nigeria                 ">Nigeria                               </option>
                                    <option value="Niue                    ">Niue                                  </option>
                                    <option value="North Korea             ">North Korea                           </option>
                                    <option value="Northern Mariana Islands">Northern Mariana Islands              </option>
                                    <option value="Norway                  ">Norway                                </option>
                                    <option value="Oman                    ">Oman                                  </option>
                                    <option value="Pakistan                ">Pakistan                              </option>
                                    <option value="Palau                   ">Palau                                 </option>
                                    <option value="Palestine State         ">Palestine State                       </option>
                                    <option value="Panama                  ">Panama                                </option>
                                    <option value="Papua New Guinea        ">Papua New Guinea                      </option>
                                    <option value="Paraguay                ">Paraguay                              </option>
                                    <option value="Peru                    ">Peru                                  </option>
                                    <option value="Philippines             ">Philippines                           </option>
                                    <option value="Poland                  ">Poland                                </option>
                                    <option value="Portugal                ">Portugal                              </option>
                                    <option value="Puerto Rico             ">Puerto Rico                           </option>
                                    <option value="Qatar                   ">Qatar                                 </option>
                                    <option value="Réunion                 ">Réunion                               </option>
                                    <option value="Romania">Romania                               </option>
                                    <option value="Russia">Russia                                </option>
                                    <option value="Rwanda">Rwanda                                </option>
                                    <option value="Saint Helena">Saint Helena                          </option>
                                    <option value="Saint Kitts and Nevis">Saint Kitts and Nevis                 </option>
                                    <option value="Saint Lucia">Saint Lucia                           </option>
                                    <option value="Saint Pierre and Miquelon">Saint Pierre and Miquelon             </option>
                                    <option value="Saint Vincent and the Grenadines">Saint Vincent and the Grenadines      </option>
                                    <option value="Samoa">Samoa                                 </option>
                                    <option value="San Marino">San Marino                            </option>
                                    <option value="Sao Tome and Principe">Sao Tome and Principe                 </option>
                                    <option value="Saudi Arabia   ">Saudi Arabia                          </option>
                                    <option value="Senegal        ">Senegal                               </option>
                                    <option value="Serbia         ">Serbia                                </option>
                                    <option value="Seychelles     ">Seychelles                            </option>
                                    <option value="Sierra Leone   ">Sierra Leone                          </option>
                                    <option value="Singapore      ">Singapore                             </option>
                                    <option value="Sint Maarten   ">Sint Maarten                          </option>
                                    <option value="Slovakia       ">Slovakia                              </option>
                                    <option value="Slovenia       ">Slovenia                              </option>
                                    <option value="Solomon Islands">Solomon Islands                       </option>
                                    <option value="Somalia        ">Somalia                               </option>
                                    <option value="South Africa   ">South Africa                          </option>
                                    <option value="South Korea    ">South Korea                           </option>
                                    <option value="South Sudan    ">South Sudan                           </option>
                                    <option value="Spain          ">Spain                                 </option>
                                    <option value="Sri Lanka      ">Sri Lanka                             </option>
                                    <option value="Sudan          ">Sudan                                 </option>
                                    <option value="Suriname       ">Suriname                              </option>
                                    <option value="Swaziland      ">Swaziland                             </option>
                                    <option value="Sweden         ">Sweden                                </option>
                                    <option value="Switzerland    ">Switzerland                           </option>
                                    <option value="Syria          ">Syria                                 </option>
                                    <option value="Taiwan         ">Taiwan                                </option>
                                    <option value="Tajikistan     ">Tajikistan                            </option>
                                    <option value="Tanzania       ">Tanzania                              </option>
                                    <option value="Thailand       ">Thailand                              </option>
                                    <option value="Timor-Leste">Timor-Leste                           </option>
                                    <option value="Togo">Togo                                  </option>
                                    <option value="Tokelau">Tokelau                               </option>
                                    <option value="Tonga">Tonga                                 </option>
                                    <option value="Trinidad and Tobago">Trinidad and Tobago                   </option>
                                    <option value="Tunisia">Tunisia                               </option>
                                    <option value="Turkey">Turkey                                </option>
                                    <option value="Turkmenistan">Turkmenistan                          </option>
                                    <option value="Turks and Caicos Islands">Turks and Caicos Islands              </option>
                                    <option value="Tuvalu">Tuvalu                                </option>
                                    <option value="Uganda">Uganda                                </option>
                                    <option value="Ukraine">Ukraine                               </option>
                                    <option value="United Arab Emirates    ">United Arab Emirates                  </option>
                                    <option selected value="United Kingdom">United Kingdom                        </option>
                                    <option value="United States of America">United States of America              </option>
                                    <option value="United States Virgin Islands">United States Virgin Islands          </option>
                                    <option value="Uruguay">Uruguay                               </option>
                                    <option value="Uzbekistan">Uzbekistan                            </option>
                                    <option value="Vanuatu">Vanuatu                               </option>
                                    <option value="Venezuela">Venezuela                             </option>
                                    <option value="Viet Nam">Viet Nam                              </option>
                                    <option value="Wallis and Futuna Islands">Wallis and Futuna Islands             </option>
                                    <option value="Western Sahara">Western Sahara                        </option>
                                    <option value="Yemen">Yemen                                 </option>
                                    <option value="Zambia">Zambia                                </option>
                                    <option value="Zimbabwe">Zimbabwe                              </option>

                                </select>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">Telephone</label>
                            </div>
                            <div class="col-sm-9">
                                <input id="textSenderTelephone" class="form-control textBoxFormat" type="text" name="textbox" value="" placeholder="enter .." />
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">Email</label>
                            </div>
                            <div class="col-sm-9">
                                <input id="textSenderEmail" placeholder="person@mail.com" class="form-control textBoxFormat" type="text" name="textbox" value="" />
                            </div>
                        </div>
                        <input id="txtNewModalsenderId" type="hidden" name="name" value="" />
                        <div class="modal-footer">
                            <button type="button" id="buttonSubmitSender" class="btn btn-secondary">Submit</button>
                            <button type="button" id="buttonCloseSender" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    @*Update sender modal form*@
    <!-- The Modal -->
    <div class="modal fade" id="myUpdateMyDetailsModal">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title" style="background-color:black;color:white;line-height:1.7;text-align:center;font-size:25px;font-weight:600;">Update Sender Details</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">

                    <div class="modal-body">
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">Shipper</label>
                            </div>
                            <div class="col-sm-9">
                                <input id="ModalSenderId" type="hidden" name="name" value="" />
                                <input id="textSenderFullNameUpd" style="color:red;" class="form-control textBoxFormat reduceTextMB" type="text" name="textbox" disabled="disabled" value="4001" />
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">Title</label>
                            </div>
                            <div class="col-sm-9">
                                <select id="selectSenderTitleUpd" class="form-control textBoxFormat">
                                    <option value="Select title">Select title</option>
                                    <option value="Mr">Mr</option>
                                    <option value="Mrs">Mrs</option>
                                    <option value="Master">Master</option>
                                    <option value="Miss">Miss</option>
                                    <option value="Elder">Elder</option>
                                    <option value="Deacon">Deacon</option>
                                    <option value="Deaconess">Deaconess</option>
                                    <option value="Pastor">Pastor</option>
                                    <option value="Brother">Brother</option>
                                    <option value="Sister">Sister</option>
                                    <option value="Reverend">Reverend</option>
                                </select>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">Gender</label>
                            </div>
                            <div class="col-sm-9">
                                <select id="selectSenderGenderUpd" class="form-control textBoxFormat">
                                    <option value="Select gender">Select gender</option>
                                    <option value="Male">Male</option>
                                    <option value="Female">Female</option>

                                </select>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">FirstName</label>
                            </div>
                            <div class="col-sm-9">
                                <input id="textSenderFirstNameUpd" class="form-control textBoxFormat" type="text" name="textbox" value="" placeholder="enter .." />
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">LastName</label>
                            </div>
                            <div class="col-sm-9">
                                <input id="textSenderLastNameUpd" class="form-control textBoxFormat" type="text" name="textbox" value="" placeholder="enter .." />
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">Address line one</label>
                            </div>
                            <div class="col-sm-9">
                                <input id="textSenderAdd1Upd" class="form-control textBoxFormat" type="text" name="textbox" value="" placeholder="enter .." />
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">Address line two</label>
                            </div>
                            <div class="col-sm-9">
                                <input id="textSenderAdd2Upd" class="form-control textBoxFormat" type="text" name="textbox" value="" placeholder="enter .." />
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">Postcode</label>
                            </div>
                            <div class="col-sm-9">
                                <input id="textSenderPostcodeUpd" class="form-control textBoxFormat" type="text" name="textbox" value="" placeholder="enter .." />
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">Town</label>
                            </div>
                            <div class="col-sm-9">
                                <input id="textSenderTownUpd" class="form-control textBoxFormat" type="text" name="Town" value="" placeholder="town.." />
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">Country</label>
                            </div>
                            <div class="col-sm-9">
                                <select id="selectSenderCountryUpd" class="form-control textBoxFormat">
                                    <option value="Select country">Select country</option>
                                    <option value="Afghanistan">Afghanistan                           </option>
                                    <option value="Albania">Albania                               </option>
                                    <option value="Algeria">Algeria                               </option>
                                    <option value="American Samoa">American Samoa                        </option>
                                    <option value="Andorra">Andorra                               </option>
                                    <option value="Angola              ">Angola                                </option>
                                    <option value="Anguilla            ">Anguilla                              </option>
                                    <option value="Antigua and Barbuda ">Antigua and Barbuda                   </option>
                                    <option value="Argentina           ">Argentina                             </option>
                                    <option value="Armenia             ">Armenia                               </option>
                                    <option value="Aruba               ">Aruba                                 </option>
                                    <option value="Australia           ">Australia                             </option>
                                    <option value="Austria             ">Austria                               </option>
                                    <option value="Azerbaijan          ">Azerbaijan                            </option>
                                    <option value="Bahamas             ">Bahamas                               </option>
                                    <option value="Bahrain             ">Bahrain                               </option>
                                    <option value="Bangladesh          ">Bangladesh                            </option>
                                    <option value="Barbados            ">Barbados                              </option>
                                    <option value="Belarus             ">Belarus                               </option>
                                    <option value="Belgium             ">Belgium                               </option>
                                    <option value="Belize              ">Belize                                </option>
                                    <option value="Benin               ">Benin                                 </option>
                                    <option value="Bermuda             ">Bermuda                               </option>
                                    <option value="Bhutan              ">Bhutan                                </option>
                                    <option value="Bolivia             ">Bolivia                               </option>
                                    <option value="Bosnia and Herzegovina">Bosnia and Herzegovina                </option>
                                    <option value="Botswana">Botswana                              </option>
                                    <option value="Brazil">Brazil                                </option>
                                    <option value="British Virgin Islands">British Virgin Islands                </option>
                                    <option value="Brunei">Brunei                                </option>
                                    <option value="Bulgaria      ">Bulgaria                              </option>
                                    <option value="Burkina Faso  ">Burkina Faso                          </option>
                                    <option value="Burundi       ">Burundi                               </option>
                                    <option value="Côte d'Ivoire ">Côte d'Ivoire                         </option>
                                    <option value="Cabo Verde    ">Cabo Verde                            </option>
                                    <option value="Cambodia      ">Cambodia                              </option>
                                    <option value="Cameroon      ">Cameroon                              </option>
                                    <option value="Canada        ">Canada                                </option>
                                    <option value="Caribbean Netherlands">Caribbean Netherlands                 </option>
                                    <option value="Cayman Islands          ">Cayman Islands                        </option>
                                    <option value="Central African Republic">Central African Republic              </option>
                                    <option value="Chad                    ">Chad                                  </option>
                                    <option value="Channel Islands         ">Channel Islands                       </option>
                                    <option value="Chile                   ">Chile                                 </option>
                                    <option value="China                   ">China                                 </option>
                                    <option value="Colombia                ">Colombia                              </option>
                                    <option value="Comoros                 ">Comoros                               </option>
                                    <option value="Congo (Congo-Brazzaville)">Congo (Congo-Brazzaville)             </option>
                                    <option value="Cook Islands">Cook Islands                          </option>
                                    <option value="Costa Rica  ">Costa Rica                            </option>
                                    <option value="Croatia     ">Croatia                               </option>
                                    <option value="Cuba        ">Cuba                                  </option>
                                    <option value="Curaçao     ">Curaçao                               </option>
                                    <option value="Cyprus      ">Cyprus                                </option>
                                    <option value="Czech Republic">Czech Republic                        </option>
                                    <option value="Democratic Republic of the Congo">Democratic Republic of the Congo      </option>
                                    <option value="Denmark">Denmark                               </option>
                                    <option value="Djibouti">Djibouti                              </option>
                                    <option value="Dominica">Dominica                              </option>
                                    <option value="Dominican Republic">Dominican Republic                    </option>
                                    <option value="Ecuador">Ecuador                               </option>
                                    <option value="Egypt">Egypt                                 </option>
                                    <option value="El Salvador">El Salvador                           </option>
                                    <option value="Equatorial Guinea">Equatorial Guinea                     </option>
                                    <option value="Eritrea">Eritrea                               </option>
                                    <option value="Estonia">Estonia                               </option>
                                    <option value="Ethiopia">Ethiopia                              </option>
                                    <option value="Faeroe Islands">Faeroe Islands                        </option>
                                    <option value="Falkland Islands (Islas Malvinas)">Falkland Islands (Islas Malvinas)     </option>
                                    <option value="Fiji">Fiji                                  </option>
                                    <option value="Finland">Finland                               </option>
                                    <option value="France">France                                </option>
                                    <option value="French Guiana">French Guiana                         </option>
                                    <option value="French Polynesia">French Polynesia                      </option>
                                    <option value="Gabon">Gabon                                 </option>
                                    <option value="Gambia    ">Gambia                                </option>
                                    <option value="Georgia   ">Georgia                               </option>
                                    <option value="Germany   ">Germany                               </option>
                                    <option value="Ghana     ">Ghana                                 </option>
                                    <option value="Gibraltar ">Gibraltar                             </option>
                                    <option value="Greece    ">Greece                                </option>
                                    <option value="Greenland ">Greenland                             </option>
                                    <option value="Grenada   ">Grenada                               </option>
                                    <option value="Guadeloupe">Guadeloupe                            </option>
                                    <option value="Guam      ">Guam                                  </option>
                                    <option value="Guatemala ">Guatemala                             </option>
                                    <option value="Guinea    ">Guinea                                </option>
                                    <option value="Guinea-Bissau">Guinea-Bissau                         </option>
                                    <option value="Guyana">Guyana                                </option>
                                    <option value="Haiti">Haiti                                 </option>
                                    <option value="Holy See">Holy See                              </option>
                                    <option value="Honduras">Honduras                              </option>
                                    <option value="Hong Kong (S.A.R. of China)">Hong Kong (S.A.R. of China)           </option>
                                    <option value="Hungary">Hungary                               </option>
                                    <option value="Iceland">Iceland                               </option>
                                    <option value="India">India                                 </option>
                                    <option value="Indonesia">Indonesia                             </option>
                                    <option value="Iran">Iran   </option>
                                    <option value="Iraq       ">Iraq                                  </option>
                                    <option value="Ireland    ">Ireland                               </option>
                                    <option value="Isle of Man">Isle of Man                           </option>
                                    <option value="Israel     ">Israel                                </option>
                                    <option value="Italy      ">Italy                                 </option>
                                    <option value="Jamaica    ">Jamaica                               </option>
                                    <option value="Japan      ">Japan                                 </option>
                                    <option value="Jordan     ">Jordan                                </option>
                                    <option value="Kazakhstan ">Kazakhstan                            </option>
                                    <option value="Kenya      ">Kenya                                 </option>
                                    <option value="Kiribati   ">Kiribati                              </option>
                                    <option value="Kuwait     ">Kuwait                                </option>
                                    <option value="Kyrgyzstan ">Kyrgyzstan                            </option>
                                    <option value="Laos       ">Laos                                  </option>
                                    <option value="Latvia     ">Latvia                                </option>
                                    <option value="Lebanon    ">Lebanon                               </option>
                                    <option value="Lesotho    ">Lesotho                               </option>
                                    <option value="Liberia    ">Liberia                               </option>
                                    <option value="Libya      ">Libya                                 </option>
                                    <option value="Liechtenstein                             ">Liechtenstein                         </option>
                                    <option value="Lithuania                                 ">Lithuania                             </option>
                                    <option value="Luxembourg                                ">Luxembourg                            </option>
                                    <option value="Macao (S.A.R. of China)                   ">Macao (S.A.R. of China)               </option>
                                    <option value="Macedonia (FYROM)  ">Macedonia (FYROM)                     </option>
                                    <option value="Madagascar         ">Madagascar                            </option>
                                    <option value="Malawi             ">Malawi                                </option>
                                    <option value="Malaysia           ">Malaysia                              </option>
                                    <option value="Maldives           ">Maldives                              </option>
                                    <option value="Mali               ">Mali                                  </option>
                                    <option value="Malta              ">Malta                                 </option>
                                    <option value="Marshall Islands   ">Marshall Islands                      </option>
                                    <option value="Martinique         ">Martinique                            </option>
                                    <option value="Mauritania         ">Mauritania                            </option>
                                    <option value="Mauritius          ">Mauritius                             </option>
                                    <option value="Mayotte            ">Mayotte                               </option>
                                    <option value="Mexico             ">Mexico                                </option>
                                    <option value="Micronesia         ">Micronesia                            </option>
                                    <option value="Moldova            ">Moldova                               </option>
                                    <option value="Monaco             ">Monaco                                </option>
                                    <option value="Mongolia           ">Mongolia                              </option>
                                    <option value="Montenegro         ">Montenegro                            </option>
                                    <option value="Montserrat         ">Montserrat                            </option>
                                    <option value="Morocco            ">Morocco                               </option>
                                    <option value="Mozambique         ">Mozambique                            </option>
                                    <option value="Myanmar (formerly Burma)">Myanmar (formerly Burma)              </option>
                                    <option value="Namibia                 ">Namibia                               </option>
                                    <option value="Nauru                   ">Nauru                                 </option>
                                    <option value="Nepal                   ">Nepal                                 </option>
                                    <option value="Netherlands             ">Netherlands                           </option>
                                    <option value="New Caledonia           ">New Caledonia                         </option>
                                    <option value="New Zealand             ">New Zealand                           </option>
                                    <option value="Nicaragua               ">Nicaragua                             </option>
                                    <option value="Niger                   ">Niger                                 </option>
                                    <option value="Nigeria                 ">Nigeria                               </option>
                                    <option value="Niue                    ">Niue                                  </option>
                                    <option value="North Korea             ">North Korea                           </option>
                                    <option value="Northern Mariana Islands">Northern Mariana Islands              </option>
                                    <option value="Norway                  ">Norway                                </option>
                                    <option value="Oman                    ">Oman                                  </option>
                                    <option value="Pakistan                ">Pakistan                              </option>
                                    <option value="Palau                   ">Palau                                 </option>
                                    <option value="Palestine State         ">Palestine State                       </option>
                                    <option value="Panama                  ">Panama                                </option>
                                    <option value="Papua New Guinea        ">Papua New Guinea                      </option>
                                    <option value="Paraguay                ">Paraguay                              </option>
                                    <option value="Peru                    ">Peru                                  </option>
                                    <option value="Philippines             ">Philippines                           </option>
                                    <option value="Poland                  ">Poland                                </option>
                                    <option value="Portugal                ">Portugal                              </option>
                                    <option value="Puerto Rico             ">Puerto Rico                           </option>
                                    <option value="Qatar                   ">Qatar                                 </option>
                                    <option value="Réunion                 ">Réunion                               </option>
                                    <option value="Romania">Romania                               </option>
                                    <option value="Russia">Russia                                </option>
                                    <option value="Rwanda">Rwanda                                </option>
                                    <option value="Saint Helena">Saint Helena                          </option>
                                    <option value="Saint Kitts and Nevis">Saint Kitts and Nevis                 </option>
                                    <option value="Saint Lucia">Saint Lucia                           </option>
                                    <option value="Saint Pierre and Miquelon">Saint Pierre and Miquelon             </option>
                                    <option value="Saint Vincent and the Grenadines">Saint Vincent and the Grenadines      </option>
                                    <option value="Samoa">Samoa                                 </option>
                                    <option value="San Marino">San Marino                            </option>
                                    <option value="Sao Tome and Principe">Sao Tome and Principe                 </option>
                                    <option value="Saudi Arabia   ">Saudi Arabia                          </option>
                                    <option value="Senegal        ">Senegal                               </option>
                                    <option value="Serbia         ">Serbia                                </option>
                                    <option value="Seychelles     ">Seychelles                            </option>
                                    <option value="Sierra Leone   ">Sierra Leone                          </option>
                                    <option value="Singapore      ">Singapore                             </option>
                                    <option value="Sint Maarten   ">Sint Maarten                          </option>
                                    <option value="Slovakia       ">Slovakia                              </option>
                                    <option value="Slovenia       ">Slovenia                              </option>
                                    <option value="Solomon Islands">Solomon Islands                       </option>
                                    <option value="Somalia        ">Somalia                               </option>
                                    <option value="South Africa   ">South Africa                          </option>
                                    <option value="South Korea    ">South Korea                           </option>
                                    <option value="South Sudan    ">South Sudan                           </option>
                                    <option value="Spain          ">Spain                                 </option>
                                    <option value="Sri Lanka      ">Sri Lanka                             </option>
                                    <option value="Sudan          ">Sudan                                 </option>
                                    <option value="Suriname       ">Suriname                              </option>
                                    <option value="Swaziland      ">Swaziland                             </option>
                                    <option value="Sweden         ">Sweden                                </option>
                                    <option value="Switzerland    ">Switzerland                           </option>
                                    <option value="Syria          ">Syria                                 </option>
                                    <option value="Taiwan         ">Taiwan                                </option>
                                    <option value="Tajikistan     ">Tajikistan                            </option>
                                    <option value="Tanzania       ">Tanzania                              </option>
                                    <option value="Thailand       ">Thailand                              </option>
                                    <option value="Timor-Leste">Timor-Leste                           </option>
                                    <option value="Togo">Togo                                  </option>
                                    <option value="Tokelau">Tokelau                               </option>
                                    <option value="Tonga">Tonga                                 </option>
                                    <option value="Trinidad and Tobago">Trinidad and Tobago                   </option>
                                    <option value="Tunisia">Tunisia                               </option>
                                    <option value="Turkey">Turkey                                </option>
                                    <option value="Turkmenistan">Turkmenistan                          </option>
                                    <option value="Turks and Caicos Islands">Turks and Caicos Islands              </option>
                                    <option value="Tuvalu">Tuvalu                                </option>
                                    <option value="Uganda">Uganda                                </option>
                                    <option value="Ukraine">Ukraine                               </option>
                                    <option value="United Arab Emirates    ">United Arab Emirates                  </option>
                                    <option selected value="United Kingdom">United Kingdom                        </option>
                                    <option value="United States of America">United States of America              </option>
                                    <option value="United States Virgin Islands">United States Virgin Islands          </option>
                                    <option value="Uruguay">Uruguay                               </option>
                                    <option value="Uzbekistan">Uzbekistan                            </option>
                                    <option value="Vanuatu">Vanuatu                               </option>
                                    <option value="Venezuela">Venezuela                             </option>
                                    <option value="Viet Nam">Viet Nam                              </option>
                                    <option value="Wallis and Futuna Islands">Wallis and Futuna Islands             </option>
                                    <option value="Western Sahara">Western Sahara                        </option>
                                    <option value="Yemen">Yemen                                 </option>
                                    <option value="Zambia">Zambia                                </option>
                                    <option value="Zimbabwe">Zimbabwe                              </option>

                                </select>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">Telephone</label>
                            </div>
                            <div class="col-sm-9">
                                <input id="textSenderTelephoneUpd" class="form-control textBoxFormat" type="text" name="textbox" value="" placeholder="enter .." />
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">Email</label>
                            </div>
                            <div class="col-sm-9">
                                <input id="textSenderEmailUpd" placeholder="person@mail.com" class="form-control textBoxFormat" type="text" name="textbox" value="" />
                            </div>
                        </div>
                        <input id="txtNewModalsenderIdUpd" type="hidden" name="name" value="" />
                        <div class="modal-footer">
                            <button type="button" id="buttonSubmitSenderUpd"
                                    onclick="{
        new $pac.TripManagement.ClientLink().SaveSenderRecord('textSenderFullNameUpd','ModalSenderId','selectSenderTitleUpd', 'selectSenderGenderUpd', 'textSenderFirstNameUpd', 'textSenderLastNameUpd', 'textSenderAdd1Upd', 'textSenderAdd2Upd', 'textSenderPostcodeUpd', 'textSenderTownUpd', 'selectSenderCountryUpd', 'textSenderTelephoneUpd', 'textSenderEmailUpd')
    }" class="btn btn-secondary">
                                Update
                            </button>
                            <button type="button" id="buttonCloseSenderUpd" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    @*Recipient modal form*@
    <!-- The Modal -->
    <div class="modal fade" id="myRecModal">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title" style="background-color:black;color:white;line-height:1.7;text-align:center;font-size:25px;font-weight:600;">Fill in Recipient's Details</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">

                    <div class="modal-body">
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">Sender's Name</label>
                            </div>
                            <div class="col-sm-9">
                                <input id="textNewSenderId" type="hidden" name="name" value="" />
                                <input id="textNewSenderFullName" style="color:red;" class="form-control textBoxFormat" disabled="disabled" type="text" name="textbox" value="" placeholder="enter .." />
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">Title</label>
                            </div>
                            <div class="col-sm-9">
                                <select id="selectNewRecipientTitle" class="form-control textBoxFormat">
                                    <option value="Select title">Select title</option>
                                    <option value="Mr">Mr</option>
                                    <option value="Mrs">Mrs</option>
                                    <option value="Master">Master</option>
                                    <option value="Miss">Miss</option>
                                    <option value="Elder">Elder</option>
                                    <option value="Deacon">Deacon</option>
                                    <option value="Deaconess">Deaconess</option>
                                    <option value="Pastor">Pastor</option>
                                    <option value="Brother">Brother</option>
                                    <option value="Sister">Sister</option>
                                    <option value="Reverend">Reverend</option>
                                </select>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">Gender</label>
                            </div>
                            <div class="col-sm-9">
                                <select id="selectNewRecipientGender" class="form-control textBoxFormat">
                                    <option value="Select gender">Select gender</option>
                                    <option value="Male">Male</option>
                                    <option value="Female">Female</option>

                                </select>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">FirstName</label>
                            </div>
                            <div class="col-sm-9">
                                <input id="textNewRecipientFirstName" class="form-control textBoxFormat" type="text" name="textbox" value="" placeholder="enter .." />
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">LastName</label>
                            </div>
                            <div class="col-sm-9">
                                <input id="textNewRecipientLastName" class="form-control textBoxFormat" type="text" name="textbox" value="" placeholder="enter .." />
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-8">
                            </div>
                            <div class="col-sm-4">

                            </div>

                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">Address one</label>
                            </div>
                            <div class="col-sm-9">
                                <input id="textNewRecipientAdd1" class="form-control textBoxFormat" type="text" name="textbox" value="" placeholder="enter .." />
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">Town</label>
                            </div>
                            <div class="col-sm-9">
                                <select id="textNewRecipientTown" class="form-control textBoxFormat">
                                    <option value="-- Select Town --         ">-- Select Town --     </option>
                                    <option value="Accra         ">Accra     </option>
                                    <option value="Boliga        ">Boliga    </option>
                                    <option value="Cape Coast    ">Cape Coast</option>
                                    <option value="Ho            ">Ho        </option>
                                    <option value="Koforidua     ">Koforidua </option>
                                    <option value="Kumasi        ">Kumasi    </option>
                                    <option value="Mampong       ">Mampong   </option>
                                    <option value="Nkawkaw       ">Nkawkaw   </option>
                                    <option value="Sunyani       ">Sunyani   </option>
                                    <option value="Tachiman      ">Tachiman  </option>
                                    <option value="Takoradi      ">Takoradi  </option>
                                    <option value="Tamale        ">Tamale    </option>
                                    <option value="Tema          ">Tema      </option>
                                    <option value="Wa            ">Wa        </option>
                                </select>
                            </div>

                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">Country</label>
                            </div>
                            <div class="col-sm-9">
                                <select id="selectNewRecipientCountry" class="form-control textBoxFormat">
                                    <option value="Ghana     ">Ghana                                 </option>
                                </select>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3">
                                <label class="form-label-control">Telephone</label>
                            </div>
                            <div class="col-sm-9">
                                <input id="textNewRecipientTelephone" class="form-control textBoxFormat" type="text" name="textbox" value="" placeholder="enter .." />
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" id="buttonSubmitNewRecipient" class="btn btn-secondary"
                                    onclick="{ new $pac.RecipientData.Data().AddRecipient('textNewSenderId','selectNewRecipientTitle','selectNewRecipientGender','textNewRecipientFirstName','textNewRecipientLastName','textNewRecipientAdd1','textNewRecipientTown','selectNewRecipientCountry','textNewRecipientTelephone') }">
                                Submit
                            </button> @*onclick="{ new $pac.Recipient.AddRecipient() }"*@
                            <button type="button" id="buttonCloseNewRecipient" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    @*Items modal form*@
    <!-- The Modal -->
    <div class="modal fade" id="myItemsModal">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title" style="background-color:black;color:white;line-height:1.7;text-align:center;font-size:25px;font-weight:600;">Select Items to Ship</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">

                    <div class="modal-body">
                        <div class="row mb-12">
                            <div class="table-responsive">
                                <p id="refValue"></p>
                                @*<input id="refValue" type="text" name="name" value="" />*@
                                <table class="w3-table w3-striped w3-bordered w3-border w3-hoverable">
                                    <tr class="w3-light-grey">
                                        <td class="col-md-3">Select Item: </td>
                                        <td class="col-md-9">
                                            <select id="selectShippingItems" class="form-control textBoxFormat" onchange="{ new $pac.ShippingItems.ClientOrder().setFocusQty('textBoxQty') }">
                                                <option value="Select title">Select item</option>

                                            </select>
                                        </td>
                                    </tr>
                                    <tr class="w3-light-grey">
                                        <td>Qty: </td>
                                        <td class="col-md-12">
                                            <input id="textBoxQty" class="form-control textBoxFormat" type="text" name="name" value="" />
                                        </td>
                                    </tr>
                                    <tr class="w3-light-grey">
                                        <td>Details: </td>
                                        <td class="col-sm-12"><input id="textBoxDetails" class="form-control textBoxFormat" type="text" name="name" value="" /></td>
                                    </tr>
                                    <tr class="w3-light-grey">
                                        <td>Add More: </td>
                                        <td class="col-sm-12"><button class="form-control btn-primary" type="button" onclick="{ new $pac.ShippingItems.ClientOrder().NextItem('selectShippingItems', 'textBoxQty','textBoxDetails') }">Add to basket</button></td>
                                    </tr>
                                    @*</tbody>*@

                                </table>
                            </div>
                            <div class="table-responsive">
                                <table id="itemTableFly" class="w3-table w3-striped w3-bordered w3-border w3-hoverable table table-responsive">
                                    <thead id="tabHeadersItem">
                                        <tr>
                                            <th>Items   </th>
                                            <th>Qty     </th>
                                            <th>Details </th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tabItemTbody">
                                    </tbody>
                                </table>
                            </div>

                        </div>


                        <div class="modal-footer">
                            <button type="button" id="buttonItemSubmit" class="btn btn-secondary" onclick="">Submit</button>  @*onclick="{ new $pac.ShippingItems.ClientOrder().SubmitOrder('itemTableFly') }"*@
                            <button type="button" id="buttonItemClose" class="btn btn-secondary" data-dismiss="modal" onclick="{ new $pac.ShippingItems.ClientOrder().ClearDynamicTable('tabItemTbody') }">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
@section Scripts {
    <script type="text/javascript">
        $(document).ready(function () {
            new $pac.TripManagement.LoginUser().getLoginStorage();
            //var mystoredData = localStorage.getItem("clientReceiptStore");
            //var myStore = JSON.parse(mystoredData);
            //var refnumber = myStore.ref;



            var loadedSenderDetail = new Array(); //[];
            var staticBatchID = $('#BatchId').val();
            var staticRefNum;
            var staticSenderID;
            var staticRecipientID;
            var staticItemID;
            var fullname;
            var itemList = new Array();// [];
            var itemload;
            //creating order date:
            //================================
             var date = new Date();
            var year = date.getFullYear();
            var month = date.getMonth() + 1;
            var day = date.getDate();
            if (day < 10) {
                day = '0' + day;
            }
            if (month < 10) {
                month = '0' + month;
            }
            var formattedDate = day + '-' + month + '-' + year
            var url = window.location.href;
            //alert(url);
            var linkString = url.split('?')[1];
           // alert(linkString);
            if (linkString != null) {
                new $pac.TripManagement.ClientLink().CheckOrderStatus(linkString);
            }
            else {
                //$('#sectionFindMe').css("display", "block");adass1994group@gmail.com,Gr8Adass1994,01/01/1994
                //alert("this is short");
            }

            //get customer records from local storage
            var customerData = [];
            loadedSenderDetail = localStorage.getItem("loginSender");
            var myStore = JSON.parse(loadedSenderDetail);
            //var refnumber = myStore.ref;


            //alert(loadedSenderDetail);

            //Create actual order by customers themselves
            //============================================
            $('#btnCreateOrder').on("click", function () {
                $('#ItemSection').css('display', 'block');
                $.ajax({
                    Type: 'POST',
                    url: '@Url.Action("getNewRefNumber","TripDetails")',
                   // data: { 'data': '"' + dataSend + '"' },
                    dataType: 'JSON',
                    contentType: "application/json; charset=utf-8",
                    success: function (result) {
                        var myData = JSON.parse(result);
                       // alert(myData.refNum);
                        var myItems = [];
                        myItems = myData.itemlist;
                        $('#txtRefNum').val(myData.refNum);
                        $("#txtItemName option").remove();
                        for (var i = 0; i < myItems.length; i++) {
                            $('#txtItemName').append('<option value="' + myItems[i].value + '">' + myItems[i].text + '</option>');
                        }
                         ////$('#ItemSection').css('display','block');
                    }
                });

            });
            //Find sender details if already existing
            //==============================================
            $('#btnFindMe').on("click", function () {
                $('#findCustomerDetails').click();//testing====
                var err = document.getElementById('catchError');
                var postcode = $('#txtPostcode').val();
                var telephone = $('#txtTel').val();
                if (postcode == "" || telephone == "") {
                    $('#catchError').show();
                    err.innerHTML = "Please enter your postcode and telephone";
                    $('#catchError').css('color', 'red');
                    $('#txtPostcode').val("");
                    $('#txtTel').val("");
                    $('#txtPostcode').css('background-color', 'red');
                    $('#txtTel').css('background-color', 'red');
                    $('#txtPostcode').focus();
                    return false;
                }
                else {
                    $('#catchError').hide();
                    var dataSend = postcode + "~" + telephone;
                    $.ajax({
                        Type: 'GET',
                        url: '@Url.Action("getSender","TripDetails")',
                        data: { 'data': '"' + dataSend + '"' },
                        dataType: 'JSON',
                        contentType: "application/json; charset=utf-8",
                        success: function (result) {
                            if (result !== "No Record Found!") {
                                //alert("second testing");
                                ////$('#SenderRecipientSection').show();
                               // $('#myUrl').attr("style", "display:block");
                               //var sendRecSection = document.getElementById('SenderRecipientSection');
                               // sendRecSection.style.display = "block";
                               //$('#SenderRecipientSection').css('visibility','collapse');

                                var id = result.split('~')[0];
                                var fullname = result.split('~')[1];
                                var senderName = document.getElementById('txtSenderFullname');
                                senderName.value = fullname;
                                $('#tSenderId').val(id);
                                staticSenderID = id;//===========================================
                                $('#ModalSenderId').val(id);
                                $('#catchError').show();
                                var err = document.getElementById('catchError');
                                err.innerHTML = "successful!";
                                $('#catchError').css('color', 'green');
                                GetSenderRecipient(id);
                            }
                            else {
                                $('#catchError').show();
                                var err = document.getElementById('catchError');
                                err.innerHTML = result;
                                $('#txtPostcode').val("");
                                $('#txtTel').val("");
                                $('#txtPostcode').focus();
                                $('#catchError').css('color', 'red');
                            }
                        }
                    });
                }
            });
            //Create new sender record if NOT existing
            //==============================================
            $('#btnAddMe').on('click', function () {
                $('#callSendersModal').click();
            });
            //Create new sender record if NOT existing
            //==============================================
            $('#btnSenderUpdate').on('click', function () {
                alert("Found");
                new $pac.TripManagement.ClientLink().UpdateSender(myStore.senderData);
                //$('#callSendersModal').click();
            });
            //Search criteria: by Postcode and Telephone number
            //(hide other sections as you type in search boxes)
            //================================================
            $('#txtPostcode').keydown(function () {
                var err = document.getElementById('catchError');
                $('#catchError').hide();
                $('#txtPostcode').css('background-color', 'white');
                $('#txtSenderFullname').val("");
                $("#ListBoxRecipientID option").remove();
                $('#SenderRecipientSection').css('display', 'none');
                $('#ItemSection').css('display','none');
            });
            $('#txtTel').keydown(function () {
                var err = document.getElementById('catchError');
                $('#catchError').hide();
                $('#txtTel').css('background-color', 'white');
                $('#txtSenderFullname').val("");
                $("#ListBoxRecipientID option").remove();
                $('#SenderRecipientSection').css('display', 'none');
                $('#ItemSection').css('display','none');
            });
             //Call Recipient modal form to add new recipient
            //==============================================
            $('#btnMyNewRecipient').on('click', function () {
                var mySenderId = $('#tSenderId').val();
                //alert(mySenderId);
                $('#textNewSenderId').val(mySenderId);
                //$('#textNewSenderId').val($('#txtNewModalsenderId').val());
                //var senderIDNew = $('#txtNewModalsenderId').val();
                $('#textNewSenderFullName').val($('#txtSenderFullname').val());
                $('#callRecipientsModal').click();
                //$('#textSenderFullName').attr("disabled", 'disabled');//==================
            });
            //Submit Recipient modal form to save in database
            //==============================================
            ////$("#buttonSubmitNewRecipient").on("click", function () {
            ////                var getMyRecipientDetails = new CollectRecipientDetails();
            ////                var getMyRecipientJson =new getRecipientJson();
            ////                Handler(getMyRecipientDetails, getMyRecipientJson);
            ////                $('#buttonCloseNewRecipient').click();
            ////});
            //Submit Sender modal form to save in database
            //==============================================
            $('#buttonSubmitSender').on("click", function () {
                var getMySenderDetails = new CollectSenderDetails();
                var getMySenderJson =new getSenderJson();
                Handler(getMySenderDetails, getMySenderJson);
                $('#buttonCloseSender').click();
            });
            $('#txtItemName').on("change", function () {
                $('#txtItemQuantity').val('');
                $('#txtItemQuantity').focus();
            });
            //Add customer orders to basket before checkout
            //==============================================
            $('#btnItemAdd').on("click", function () {
                //check if sender and recipients are selected!
                var err = document.getElementById('errMsg');
                var recipient = $('#ListBoxRecipientID option:selected').text();
                if (recipient == "") {
                    err.innerHTML = "Please select a sender and a recipient";
                    err.style.color = "red";
                    $('#txtItemQuantity').val("");
                    $('#txtTel').focus();
                    return false;
                }
                else {
                    err.innerHTML = "";
                }
                var qt = document.getElementById('txtItemQuantity').value;
                var itemname = $('#txtItemName option:selected').text();
                var tripid = $('#tripID').val();
                if (qt !== "") {

                    itemload = { name: itemname, quantity: qt.toString(), id: (itemList.length + 1).toString() };
                    itemList.push(itemload);
                    err.innerHTML = "";
                    var tab = document.getElementById('itemTable');
                    var tabBody = document.getElementById('itemTBody');
                    tabBody.style.backgroundColor = "lightyellow";
                    tabBody.style.fontSize = "12px";
                    var tr = document.createElement('tr');
                    var itemNametd = document.createElement('td'); itemNametd.innerHTML = itemname;
                    var Qtytd = document.createElement('td'); Qtytd.innerHTML = qt;
                    var Deletetd = document.createElement('td');
                    var button = document.createElement('button'); button.innerHTML = "Delete";
                    button.Record = itemname;
                    button.tr = tr;
                    button.style.backgroundColor = "red";
                    button.style.color = "white";
                    button.itemload = itemload;
                    button.onclick = function () {
                        $(this.tr).remove();
                        itemList = itemList.filter(function (val) { return val.id != this.itemload.id });
                    };
                    Deletetd.appendChild(button);
                    tr.appendChild(itemNametd);
                    tr.appendChild(Qtytd);
                    tr.appendChild(Deletetd);
                    tabBody.appendChild(tr);
                    tab.appendChild(tabBody);
                    $('#txtItemQuantity').val('');
                    $('#txtItemName').focus();
                }
                else {
                    err.innerHTML = "Please enter item quantity";
                    err.style.color = "red";
                }
            });
            $('#btnItemClearTable').on("click", function () {
                $('#itemTBody').empty();
                $('#txtItemQuantity').val('');
                $('#txtItemName').focus();
            });
            $('#txtItemQuantity').keydown(function (e) {
                var qt = document.getElementById('txtItemQuantity').value;
                if (e.keyCode === 13 && qt.length !== 0) {
                    $('#btnItemAdd').click();
                    return false;
               }
            });
            //Checkout section to save in database
            //==============================================
            @*$('#btnItemCheckout').on("click", function () {
                var senderUrl = window.location.href;
                var senderLinkString = senderUrl.split('?')[1];

                var flyTable = document.getElementById("itemTable");
                if (flyTable.rows.length > 1) {
                    var answer = window.confirm("Do you want to add this order to trip?");
                    if (answer) {
                        var recipientId = $('#ListBoxRecipientID option:selected').val();
                        var NewRefNumber = $('#txtRefNum').val();
                        staticSenderID = $('#sender_Id').val();
                        var StandardData = formattedDate + "~" + staticBatchID + "~" + NewRefNumber + "~" + staticSenderID + "~" + recipientId + "~" + senderLinkString + "/";
                        var tabTd = $('#itemTable td');
                        var dataValues = new Array(flyTable.rows.length);
                        var ItemNameArray = [];
                        var DetailsArray = [];
                        var QuantityArray = [];
                        var TotalArray = [];
                        var mylist = JSON.stringify(itemList);
                        var obj = {
                            batchId: staticBatchID,
                            senderId: staticSenderID,
                            recipientId: recipientId,
                            actualRef: NewRefNumber,
                            orderDate: formattedDate,
                            orderList: mylist,
                        };

                        for (var i = 1; i < flyTable.rows.length; i++) {
                                for (var j = 0; j < flyTable.rows[i].cells.length - 1; j++) {
                                    dataValues[i] = new Array(flyTable.rows[i].cells.length);
                                    dataValues[i][j] = flyTable.rows[i].cells[j].innerHTML;
                                    if (j == 0) {
                                        ItemNameArray = ItemNameArray + "~" + dataValues[i][0];
                                    }
                                    else if (j == 1) {
                                        DetailsArray = DetailsArray + "~" + dataValues[i][1];
                                    }
                                    else if (j == 2) {
                                        QuantityArray = QuantityArray + "~" + dataValues[i][2];
                                    }
                                    else if (j == 3) {
                                    }
                                }
                        }

                            $("#TableContainer").empty();
                        var DataSend = StandardData + ItemNameArray + "/" + DetailsArray + "/" + QuantityArray; //+ "/" + TotalArray
                        var finalData = { 'data': '"' + DataSend + '"' };
                        var myDataSend = JSON.stringify(finalData);
                            $.ajax({
                                type: 'GET',
                                url: '@Url.Action("LoadTrip2","Clients")',
                                data: obj,// finalData,
                                dataType: 'JSON',
                                contentType: "application/json; charset=utf-8",
                                success: function (results) {
                                    var response = JSON.parse(results);
                                    alert(response.result);
                                    if (results = "Order Added Successfully!!") {
                                        $("#tripRecipientId option").remove();
                                        $('#btnClearTable').click();

                                        //collecting list of items from a table
                                        //======================================
                                        var orderItemsList = [];
                                        //orderItemsList.push(batch + "~" + ref + "~" + senderRecipient + "~" + senderId);

                                        $('#itemTable>tbody>tr').each(function () {
                                            var orderParam = $(this).find("td").html() + "~" + $(this).find("td").eq(1).html();// + "~" + $(this).find("td").eq(2).html();
                                            orderItemsList.push(orderParam);
                                        });

                                        //keeping a local storage called clientReceiptStore
                                        //==================================================
                                        //////var orderStatus = new $pac.TripManagement.Orders().OrderStatus(existOrdersList[0].refNum);
                                        localStorage.setItem("clientReceiptStore", JSON.stringify({
                                            ref: NewRefNumber, list: orderItemsList, myText: "Thanks for your order", oStatus: "Created"
                                        }));
                                        window.location.assign("../TripDetails/tripReportView");
                                    }
                                }
                            });
                    }
                    else {
                        return false;
                    }

                } else {
                    var err = document.getElementById('errMsg');
                    err.innerHTML = "Please Add orders to bacsket before checking out";
                    err.style.color = "red";
                    $('#Quantity').val("");
                    $('#Name').focus();
                }
            });*@

            $("#btnItemCheckoutTEST").click(function () {
                collectOrderData();
            });
            @*function GetSenderRecipient(id) {
                //alert("I am here");
                 $('#senderId').val(id)
                var senderSelected = id;
                var mydata = { 'data': '"' + id + '"' };
                var ActualData = JSON.stringify(mydata);
                $.ajax({
                    type: 'GET',
                    url: '@Url.Action("LoadRecipientsToGrid", "TripDetails")',
                    data: { 'data': '"' + id + '"' },
                    dataType: 'JSON',
                    contentType: "application/json; charset=utf-8",
                    success: function (result) {
                        $('#SenderRecipientSection').css('display', 'block');
                        var myData = JSON.parse(result);
                        var myRecipientReceived = [];
                        myRecipientReceived = myData.results;
                        $("#ListBoxRecipientID option").remove();
                        for (var i = 0; i < myRecipientReceived.length; i++) {
                            $('#ListBoxRecipientID').append('<option value="' + myRecipientReceived[i].value + '">' + myRecipientReceived[i].text + '</option>');
                        }
                    }
                });
            }*@
            function LoadSenderRecord() {
                var err = document.getElementById('catchError');
                var postcode = $('#txtPostcode').val();
                var telephone = $('#txtTel').val();
                if (postcode == "" || telephone == "") {
                    $('#catchError').show();
                    err.innerHTML = "Please enter your postcode and telephone";
                    $('#catchError').css('color', 'red');
                    $('#txtPostcode').val("");
                    $('#txtTel').val("");
                    $('#txtPostcode').css('background-color', 'red');
                    $('#txtTel').css('background-color', 'red');
                    $('#txtPostcode').focus();
                    return false;
                }
                else {
                    $('#catchError').hide();
                    var dataSend = postcode + "~" + telephone;
                    $.ajax({
                        Type: 'GET',
                        url: '@Url.Action("getSender","TripDetails")',
                        data: { 'data': '"' + dataSend + '"' },
                        dataType: 'JSON',
                        contentType: "application/json; charset=utf-8",
                        success: function (result) {
                            if (result !== "No Record Found!") {
                                //alert("second testing");
                                ////$('#SenderRecipientSection').show();
                               // $('#myUrl').attr("style", "display:block");
                               //var sendRecSection = document.getElementById('SenderRecipientSection');
                               // sendRecSection.style.display = "block";
                               //$('#SenderRecipientSection').css('visibility','collapse');

                                var id = result.split('~')[0];
                                var fullname = result.split('~')[1];
                                var senderName = document.getElementById('txtSenderFullname');
                                senderName.value = fullname;
                                $('#tSenderId').val(id);
                                staticSenderID = id;//===========================================
                                $('#ModalSenderId').val(id);
                                $('#catchError').show();
                                var err = document.getElementById('catchError');
                                err.innerHTML = "successful!";
                                $('#catchError').css('color', 'green');
                                GetSenderRecipient(id);
                            }
                            else {
                                $('#catchError').show();
                                var err = document.getElementById('catchError');
                                err.innerHTML = result;
                                $('#txtPostcode').val("");
                                $('#txtTel').val("");
                                $('#txtPostcode').focus();
                                $('#catchError').css('color', 'red');
                            }
                        }
                    });
                }
            }
            function PassItemData() {
        try {
            var myItems = new CollectItemData();
            var myItemJson = new ItemJson();
            myItemJson.data = JSON.stringify(myItems);
            $.ajax(myItemJson);
        } catch (e) {

        }

    }
            var getSenderJson= function () {
                this.Type = 'POST'
                this.url = '@Url.Action("addModalNewSender","TripDetails")'
                this.data = "{'data':'123'}"
                this.contentType = 'application/json; charset=utf-8'
                this.success = function (result) {
                    var msg = JSON.parse(result);
                    $('#SenderRecipientSection').css('display', 'block');
                    $('#catchError').show();
                    var err = document.getElementById('catchError');
                    err.innerHTML = "successful!";
                    $('#catchError').css('color', 'green');
                    $('#txtNewModalsenderId').val(msg.results.senderID);
                    $('#ModalSenderId').val(msg.results.senderID);
                    staticSenderID = msg.results.senderID;
                    $('#txtSenderFullname').val(msg.results.fullname);
                    alert("Added successfully! Your ID is:" + msg.results.senderID);
                }
            }
            var getRecipientJson= function () {
                this.Type = 'POST'
                this.url = '@Url.Action("addModalNewRecipient","TripDetails")'
                this.data = "{'data':'123'}"
                this.contentType = 'application/json; charset=utf-8'
                this.success = function (result) {
                    var msg = JSON.parse(result);
                    staticRecipientID = msg.results.recipientID;
                    fullname = msg.results.recipientFullname;
                    staticSenderID=msg.results.senderID;
                    $('#SenderID').val(result);
                    GetSenderRecipient(staticSenderID);
                }
            }
            var getTripJson= function () {
                this.Type = 'POST'
                this.url = '@Url.Action("getSender","TripDetails")'
                this.data = "{'data':'123'}"
                this.contentType = 'application/json; charset=utf-8'
                this.success = function (result) {
                    $('#SenderID').val(result);
                }
            }
            var getNewRefJson= function () {
                this.Type = 'POST'
                this.url = '@Url.Action("getNewRefNumber","TripDetails")'
                this.data = "{'data':'123'}"
                this.contentType = 'application/json; charset=utf-8'
                this.success = function (result) {
                    $('#SenderID').val(result);
                }
            }
           //config to server side code here
          //=========================================
        function Handler (collData,jsonConfig) {
                try {
                    jsonConfig.data = collData;
                    $.ajax(jsonConfig);
                } catch (e) { }
            }
        function OrderItems() {
                this.ActualRef = $('#txtRefNum').val();
                this.BatchID = $('#BatchId').val();
                this.SenderID = $('#tSenderId').val();
                this.RecipientID = $('#ListBoxRecipientID option:selected').val();
                this.OrderDate = formattedDate;
                this.OrderList =itemList;
            }
        var  collectOrderData= function () {
                try {
                    //var param = new OrderItems();

                    var param = itemList;
                    new $pac.TripManagement.Orders().Checkout(itemList);
                } catch (e) {
                }
            }
        function CollectItemData() {
                this.BatchID = $('#BatchNo').val();
                this.SenderID = $('#SenderID').val();
                this.SenderID = $('#SenderIDMob').val();//
                //this.SenderName = $('#SenderID option:selected').val();
                this.TextRecipient = $('#TextRecipient').val();
                this.TextRecipient = $('#TextRecipientMob').val();
                this.RecipientID = $('#RecipientID').val();
                this.ItemName = $('#ItemName').val();
                this.Name = $('#Name').val();
                this.Quantity = $('#Quantity').val();
                this.Comment = $('#Comment').val();
                this.Status = $('#Status').val();
                this.Total = $('#Total').val();
                this.ItemID = $('#ItemID').val();
            }
        var CollectSenderDetails= function () {
                this.ShiperID = $('#textShipperId').val();//
                this.SenderTitle = $("#SelectSenderTitle option:selected").prop("selected", true).val();
                this.SenderFirstName = $('#textSenderFirstName').val();
                this.SenderLastName = $('#textSenderLastName').val();
                this.SenderGender = $('#SelectSenderGender').val();// option:selected
                this.SenderAdd1 = $('#textSenderAdd1').val();
                this.SenderAdd2 = $('#textSenderAdd2').val();
                this.SenderTown = $('#textSenderTown').val();
                this.SenderPostcode = $('#textSenderPostcode').val();
                this.SenderCountry = $('#SelectSenderCountry').val();// option:selected
                this.SenderTel = $('#textSenderTelephone').val();
                this.SenderEmail = $('#textSenderEmail').val();
            }
        function CollectRecipientDetails() {
            this.SenderId = $('#ModalSenderId').val();// staticSenderID;// $('#textSenderId').val();//
                this.RecipientTitle = $('#SelectNewRecipientTitle option:selected').val();
                this.RecipientFirstName = $('#textNewRecipientFirstName').val();
                this.RecipientLastName = $('#textNewRecipientLastName').val();
                this.RecipientGender = $('#SelectNewRecipientGender option:selected').val();
                this.RecipientAdd1 = $('#textNewRecipientAdd1').val();
                this.RecipientTown = $('#textNewRecipientTown').val();
                this.RecipientCountry = $('#SelectNewRecipientCountry option:selected').val();
                this.RecipientTel = $('#textNewRecipientTelephone').val();
                this.RecipientEmail = $('#textNewRecipientEmail').val();
            }
        function onClick() {
                html2canvas(document.body, {
                    onrendered: function (canvas) {

                        var img = canvas.toDataURL("image/png");
                        var doc = new jsPDF();
                        doc.addImage(img, 'JPEG', 20, 20);
                        doc.save('test.pdf');
                    }
                });
            };
        });
    </script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="~/lib/jquery/jquery.min.js"></script>
    @*<script src="~/lib/jquery/dist/jquery.min.js"></script>*@
    <script src="~/lib/MyScripts/utilitiesJS.js"></script>
    <script src="~/lib/MyScripts/myScript.js"></script>
    <script src="~/lib/MyScripts/ManageTripJS.js"></script>
    <script src="~/lib/MyScripts/RecipientsJS.js"></script>

}


